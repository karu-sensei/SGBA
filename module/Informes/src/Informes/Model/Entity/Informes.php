<?phpnamespace Informes\Model\Entity;use Zend\Db\TableGateway\TableGateway;use Zend\Db\Adapter\Adapter;class Informes {    //$dbAdapter;    private $fechaini;    private $fechafin;        		public function __construct($adapter)		{        $this->dbAdapter=$adapter;        $this->fechaini='';//$data['fechaini'];        $this->fechafin='';//$data['fechafin'];		}        function informeinventario(){                      $html="";            $sql="select * from materiales";            $rs=$this->dbAdapter->query($sql,Adapter::QUERY_MODE_EXECUTE);            $rs=$rs->toArray();            //$rs=$rs[0];            $i=0;            $html=$html.'<br><br><br><br><br>            <div class="row-fluid" style="background:#003277">            <div class="container">            <h4 style="color:white">Informe de Inventario</h4>            </div></div>            <br><br><br>            <div class="container">            <div class="tablas" style="height:300px; overflow: scroll;overflow-x:hidden; border: 1px solid #C3C3C3;">                     <table class="table table-bordered table-striped">';                $html=$html.'<tr>            <th>Titulo</th>            <th>Autor</th>            <th>Volumen</th>            <th>A&ntilde;o</th>            <th>Edicion</th>            <th>Editorial</th>            <th>Tipo</th>            <th>Tomo</th>            <th>Ejemplares</th>            <th>Estado</th></tr>';            //echo $html;            //print_r($rs);            /*while ($row = pg_fetch_array($rs)){*/               foreach($rs as $row){                $html=  $html.'<tr>';                $html = $html.'<td>';                $html = $html. $row["codigo"];                $html = $html.'</td><td>';                $html = $html. $row["titulo"];                $html = $html.'</td><td>';                $html = $html. $row["autor"];                $html = $html.'</td><td>';                $html = $html. $row["volumen"];                $html = $html.'</td><td>';                $html = $html. $row["anio"];                $html = $html.'</td><td>';                $html = $html. $row["edicion"];                $html = $html.'</td><td>';                $html = $html. $row["editorial"];                $html = $html.'</td><td>';                $html = $html. $row["tipo_material_nombre"];                $html = $html.'</td><td>';                $html = $html. $row["tomo"];                $html = $html.'</td><td>';                $html = $html. $row["estado"];//realizar count                $html = $html.'</td></tr>';                     $i++;            }                       $html=$html.'</table></div></div>';             echo $html;                       //return ($html);        }        function informemorosos(){                      $html="";            $sql="select * from prestamos p, usuarios u,materiales ma,multas m                 where m.id = p.multas_id and                 p.usuarios_rut=u.rut and                ma.id=p.materiales_id";            $rs=$this->dbAdapter->query($sql,Adapter::QUERY_MODE_EXECUTE);            $rs=$rs->toArray();            //$rs=$rs[0];            $i=0;            $html=$html.'<br><br><br><br><br>            <div class="row-fluid" style="background:#003277">            <div class="container">            <h4 style="color:white">Informe de Usuarios Morosos</h4>            </div></div>            <br><br><br>            <div class="container">            <div class="tablas" style="height:300px; overflow: scroll;overflow-x:hidden; border: 1px solid #C3C3C3;">                     <table class="table table-bordered table-striped">';                $html=$html.'<tr>            <th>Rut</th>            <th>Nombre</th>            <th>carrera</th>            <th>Email</th>            <th>Telefono</th>            <th>Tiempo morosidad</th>            <th>Cod. Documento</th>            <th>Tit. Documento</th></tr>';            //echo $html;            //print_r($rs);            /*while ($row = pg_fetch_array($rs)){*/               foreach($rs as $row){                $html=$html.'<tr>';                $html = $html.'<td>';                $html = $html. $row["rut"];                $html = $html.'</td><td>';                $html = $html. $row["nombre"];                $html = $html.'</td><td>';                $html = $html. $row["carreras_nombre"];                $html = $html.'</td><td>';                $html = $html. $row["mail"];                $html = $html.'</td><td>';                $html = $html. $row["telefono"];                $html = $html.'</td><td>';                $html = $html. $row["dias_atraso"];                $html = $html.'</td><td>';                $html = $html. $row["materiales_id"];                $html = $html.'</td><td>';                $html = $html. $row["titulo"];                $html = $html.'</td></tr>';                     $i++;            }                       $html=$html.'</table></div></div>';             echo $html;                       //return ($html);        }         function informematpres(){                      $html="";            $sql="select * from prestamos p, materiales m, usuarios u where            p.usuarios_rut=u.rut and            m.id=p.materiales_id and m.estado='prestado'";  //seria aconsejable aÃ±adir prestamo = vigente            $rs=$this->dbAdapter->query($sql,Adapter::QUERY_MODE_EXECUTE);            $rs=$rs->toArray();            //$rs=$rs[0];            $i=0;            $html=$html.'<br><br><br><br><br>            <div class="row-fluid" style="background:#003277">            <div class="container">            <h4 style="color:white">Informe de Material en Prestamo</h4>            </div></div>            <br><br><br>            <div class="container">            <div class="tablas" style="height:300px; overflow: scroll;overflow-x:hidden; border: 1px solid #C3C3C3;">                     <table class="table table-bordered table-striped">';                $html=$html.'<tr>            <th>Cod. Documento</th>            <th>Tit. Documento</th>            <th>Autor</th>            <th>F. Inicio</th>            <th>F. Fin</th>            <th>Rut</th></tr>';            //echo $html;            //print_r($rs);            /*while ($row = pg_fetch_array($rs)){*/               foreach($rs as $row){                $html=$html.'<tr>';                $html = $html.'<td>';                $html = $html. $row["materiales_id"];                $html = $html.'</td><td>';                $html = $html. $row["titulo"];                $html = $html.'</td><td>';                $html = $html. $row["autor"];                $html = $html.'</td><td>';                $html = $html. $row["fecha_inicio"];                $html = $html.'</td><td>';                $html = $html. $row["fecha_termino"];                $html = $html.'</td><td>';                $html = $html. $row["rut"];                $html = $html.'</td></tr>';                     $i++;            }                       $html=$html.'</table></div></div>';             echo $html;                       //return ($html);        }        function informehistorico(){                      $html="";            $sql="select * from materiales ";              $rs=$this->dbAdapter->query($sql,Adapter::QUERY_MODE_EXECUTE);            $rs=$rs->toArray();            //$rs=$rs[0];            $i=0;            $html=$html.'<br><br><br><br><br>            <div class="row-fluid" style="background:#003277">            <div class="container">            <h4 style="color:white">Informe Historico de Compras</h4>            </div></div>            <br><br><br>            <div class="container">            <div class="tablas" style="height:300px; overflow: scroll;overflow-x:hidden; border: 1px solid #C3C3C3;">                     <table class="table table-bordered table-striped">';                $html=$html.'<tr>            <th>F. Recepcion</th>            <th>Cod. Documento</th>            <th>Tit. Documento</th>            <th>Autor</th>            <th>Volumen</th>            <th>A&ntilde;o</th>            <th>Edicion</th>            <th>Editorial</th>            <th>Tipo</th></tr>';            //echo $html;            //print_r($rs);            /*while ($row = pg_fetch_array($rs)){*/               foreach($rs as $row){                $html=$html.'<tr>';                $html = $html.'<td>';                $html = $html. $row["fecha_recepcion"];                $html = $html.'</td><td>';                $html = $html. $row["codigo"];                $html = $html.'</td><td>';                $html = $html. $row["titulo"];                $html = $html.'</td><td>';                $html = $html. $row["autor"];                $html = $html.'</td><td>';                $html = $html. $row["volumen"];                $html = $html.'</td><td>';                $html = $html. $row["anio"];                $html = $html.'</td><td>';                $html = $html. $row["edicion"];                $html = $html.'</td><td>';                $html = $html. $row["editorial"];                $html = $html.'</td><td>';                $html = $html. $row["tipo_material_nombre"];                $html = $html.'</td></tr>';                     $i++;            }                       $html=$html.'</table></div></div>';              echo $html;                       //return ($html);        }        function informematsol(){                      $html="";            $sql="select * from materiales";            $rs=$this->dbAdapter->query($sql,Adapter::QUERY_MODE_EXECUTE);            $rs=$rs->toArray();            //$rs=$rs[0];            $i=0;            $html=$html.'<br><br><br><br><br>            <div class="row-fluid" style="background:#003277">            <div class="container">            <h4 style="color:white">Informe de Material mas Solicitado</h4>            </div></div>            <br><br><br>            <div class="container">            <div class="tablas" style="height:300px; overflow: scroll;overflow-x:hidden; border: 1px solid #C3C3C3;">                     <table class="table table-bordered table-striped">';                $html=$html.'<tr>            <th>C&oacute;digo</th>            <th>Titulo</th>            <th>Autor</th>            <th>Volumen</th>            <th>A&ntilde;o</th>            <th>Edicion</th>            <th>Editorial</th>            <th>Tipo</th>            <th>Tomo</th>            <th>Nro. Prestamos</th></tr>';            //echo $html;            //print_r($rs);            /*while ($row = pg_fetch_array($rs)){*/               foreach($rs as $row){                $html=$html.'<tr>';                $html = $html.'<td>';                $html = $html. $row["codigo"];                $html = $html.'</td><td>';                $html = $html. $row["titulo"];                $html = $html.'</td><td>';                $html = $html. $row["autor"];                $html = $html.'</td><td>';                $html = $html. $row["volumen"];                $html = $html.'</td><td>';                $html = $html. $row["anio"];                $html = $html.'</td><td>';                $html = $html. $row["edicion"];                $html = $html.'</td><td>';                $html = $html. $row["editorial"];                $html = $html.'</td><td>';                $html = $html. $row["tipo_material_nombre"];                $html = $html.'</td><td>';                $html = $html. $row["tomo"];                $html = $html.'</td><td>';                $html = $html. $row["estado"];//realizar count                $html = $html.'</td></tr>';                     $i++;            }                       $html=$html.'</table></div></div>';             echo $html;                       //return ($html);        }            function informematsug(){              $a=rand(1,1000);                    $html="";            $sql="select * from encuestas";            $rs=$this->dbAdapter->query($sql,Adapter::QUERY_MODE_EXECUTE);            $rs=$rs->toArray();            //$rs=$rs[0];            $i=0;            $html=$html.'<br><br><br><br><br>            <div class="row-fluid" style="background:#003277">            <div class="container">            <h4 style="color:white">Informe de Material Sugerido</h4>            </div></div>            <br><br><br>            <div class="container">            <div class="tablas" style="height:300px; overflow: scroll;overflow-x:hidden; border: 1px solid #C3C3C3;">                     <table class="table table-bordered table-striped">';                $html=$html.'<tr>            <th>C&oacute;digo</th>            <th>Titulo</th>            <th>Autor</th>            <th>Volumen</th>            <th>A&ntilde;o</th>            <th>Edicion</th>            <th>Editorial</th>            <th>Tipo</th>            <th>Cantidad de veces solicitado</th></tr>';            //echo $html;            //print_r($rs);            /*while ($row = pg_fetch_array($rs)){*/               foreach($rs as $row){                $html=$html.'<tr>';                $html = $html.'<td>';                $html = $html. $row["id"];                $html = $html.'</td><td>';                $html = $html. $row["titulo"];                $html = $html.'</td><td>';                $html = $html. $row["autor"];                $html = $html.'</td><td>';                $html = $html. $row["volumen"];                $html = $html.'</td><td>';                $html = $html. $row["anio"];                $html = $html.'</td><td>';                $html = $html. $row["edicion"];                $html = $html.'</td><td>';                $html = $html. $row["editorial"];                $html = $html.'</td><td>';                $html = $html. $row["tipo"];                $html = $html.'</td><td>';                $html = $html. $a;//realizar count                $html = $html.'</td></tr>';                     $i++;            }                       $html=$html.'</table></div></div>';              echo $html;                       //return ($html);        }	}?>