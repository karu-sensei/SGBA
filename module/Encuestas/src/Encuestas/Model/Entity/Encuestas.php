<?phpnamespace Encuestas\Model\Entity;session_start();use Zend\Db\TableGateway\TableGateway;use Zend\Db\Adapter\Adapter;use Zend\Db\Sql\Sql;use Zend\Db\ResultSet\ResultSet;class Encuestas {    private $titulo;    private $autor;    private $volumen;    private $anio;    private $edicion;    private $editorial;    private $tipo;    private $rut;    //private $dbAdapter;	public function __construct($datos = array(),$adapter)		{		$this->titulo=$datos["titulo"];        $this->autor=$datos["autor"];        $this->volumen=$datos["volumen"];        $this->anio=$datos["anio"];        $this->edicion=$datos["edicion"];        $this->editorial=$datos["editorial"];        $this->tipo=$datos["tipo"];        $this->rut=$datos["rut"];        $this->dbAdapter=$adapter;		}	public function getSugerencias()        {            $sql="select * from encuestas";            $result=$this->dbAdapter->query($sql,Adapter::QUERY_MODE_EXECUTE);            return $result->toArray();        }     public function ingresarEncuesta($data=array())        {            $sql="insert into encuestas (            titulo,autor,volumen,anio,edicion,editorial,tipo)             values('".$this->titulo."','".$this->autor."','".$this->volumen."','".$this->anio."',            '".$this->edicion."','".$this->editorial."','".$this->tipo."')";             $result=$this->dbAdapter->query($sql,Adapter::QUERY_MODE_EXECUTE);            $result=$this->dbAdapter->query("select max(id) from encuestas",Adapter::QUERY_MODE_EXECUTE);            $result2=$result->toArray();            $result3=$result2[0];            $this->dbAdapter->query("insert into encuestas_usuarios (usuarios_rut,encuesta_id)            values(".$this->rut.",".$result3['max'].")",Adapter::QUERY_MODE_EXECUTE);        }    public function eliminarEncuesta()    {        $sql="delete from usuarios where id='".$this->id."'";        $result=$this->dbAdapter->query($sql,Adapter::QUERY_MODE_EXECUTE);    }}?>